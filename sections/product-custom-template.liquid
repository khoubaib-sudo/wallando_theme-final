{%- assign collection_handles = product.collections | map: 'handle' -%}

{%
  render 'product-section-data',
  product: product,
%}

<section
  class="product-page"
  data-section-id="{{ section.id }}"
  data-section-type="product-template"
  data-product-component
>
  <div class="breadcrumbs-wrapper">
    {% render 'breadcrumbs' %}
  </div>

  <div class="product-page__content">
    {%
      render 'custom-product',
      product: product,
      select_first_available_variant: settings.select_first_available_variant,
      template: 'product',
      settings: settings,
      collection_handles: collection_handles,
    %}
  </div>
</section>

<script>

  {% comment %}
   const variantSelects = document.querySelectorAll('.options-selection__option-value-input');

   const variantTrigger = document.querySelectorAll('.options-selection__option-value-name');


    variantTrigger.forEach((variantSelector) => {
    	variantSelector.addEventListener("click", function() {

    	const values = variantSelector.innerText.split("x");
               let [hohe, breite] = values;
               breite = breite.split("cm")[0];

              document.querySelector('.hohe-value').innerText = hohe;
             	document.querySelector('.breite-value').innerText = breite;
  });
    });

   const updateDomSizes = () => {
    	variantSelects.forEach((variantSelector) => {
        if(variantSelector.checked){
               const values = variantSelector.defaultValue.split("x");
               let [hohe, breite] = values;
               breite = breite.split("cm")[0];


              document.querySelector('.hohe-value').innerText = hohe;
             	document.querySelector('.breite-value').innerText = breite;
             }


       });
    }

   window.addEventListener('DOMContentLoaded', (event) => {
     	   updateDomSizes();
  }); {% endcomment %}
</script>

<script
  type="text/javascript"
  src="https://node1.itoris.com/dpo/storefront/include.js?shop=wallando-de.myshopify.com"
></script>

{% schema %}
{
  "name": "Product",
  "class": "shopify-section--product-template is-product-main",
  "settings": [
    {
      "type": "product",
      "id": "extra-product",
      "label": "Extra Product",
      "info": "Extra Product To Add to Cart"
    },
    {
      "type": "richtext",
      "id": "popup__text",
      "label": "Hover text",
      "default": "<p>Default <em>richtext</em> <a href=\"https://example.com/\">content</a></p>"
    },
    {
      "type": "header",
      "content": "Product gallery"
    },
    {
      "type": "select",
      "id": "enable_thumbnails",
      "label": "Show thumbnails",
      "default": "desktop",
      "options": [
        {
          "value": "always",
          "label": "Always"
        },
        {
          "value": "desktop",
          "label": "Desktop only"
        },
        {
          "value": "disabled",
          "label": "Never"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "gallery_arrows",
      "label": "Show arrows",
      "info": "Only applies to desktop.",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_product_lightbox",
      "label": "Enable lightbox",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "activate_zoom",
      "label": "Magnify product images on hover",
      "default": true
    },
    {
      "type": "range",
      "id": "slideshow_speed",
      "label": "Gallery speed",
      "min": 0,
      "max": 6,
      "unit": "sec",
      "default": 0,
      "info": "Set to 0 to disable autoplay."
    },
    {
      "type": "select",
      "id": "slideshow_transition",
      "label": "Gallery transition",
      "default": "fade",
      "options": [
        {
          "value": "slide",
          "label": "Slide"
        },
        {
          "value": "fade",
          "label": "Fade"
        }
      ]
    },
    {
      "type": "select",
      "id": "thumbnail_position",
      "label": "Thumbnails position",
      "default": "bottom-thumbnails",
      "options": [
        {
          "value": "left-thumbnails",
          "label": "Left of main image"
        },
        {
          "value": "right-thumbnails",
          "label": "Right of main image"
        },
        {
          "value": "bottom-thumbnails",
          "label": "Below main image"
        }
      ],
      "info": "Left/Right only applies on large screen sizes when sidebar is disabled."
    },
    {
      "type": "checkbox",
      "id": "crop_thumbnails",
      "label": "Crop thumbnails",
      "default": false,
      "info": "Will crop the thumbnails to be square."
    },
    {
      "type": "checkbox",
      "id": "enable_thumbnail_slider",
      "label": "Enable thumbnail slider",
      "default": true,
      "info": "Applies only when thumbnails are set to Bottom."
    },
    {
      "type": "header",
      "content": "Dynamic checkout button"
    },
    {
      "type": "checkbox",
      "id": "show_payment_button",
      "label": "Show dynamic checkout button",
      "default": false,
      "info": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)"
    },
    {
      "type": "header",
      "content": "Media",
      "info": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
    },
    {
      "type": "radio",
      "id": "product_images_position",
      "default": "left",
      "label": "Media position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "set_product_height",
      "label": "Set height of product media",
      "default": false
    },
    {
      "type": "range",
      "id": "product_height",
      "label": "Product media height",
      "min": 200,
      "max": 800,
      "step": 10,
      "default": 500,
      "unit": "px"
    },
    {
      "type": "checkbox",
      "id": "video_looping",
      "label": "Enable video looping",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "title",
      "name": "Title",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "display_collection_link",
          "label": "Show collection link",
          "default": false
        }
      ]
    },
    {
      "type": "vendor",
      "name": "Vendor",
      "limit": 1
    },
    {
      "type": "sku",
      "name": "SKU",
      "limit": 1
    },
    {
      "type": "social",
      "name": "Social",
      "limit": 1
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1
    },
    {
      "type": "product_links",
      "name": "Product links",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "display_collections",
          "label": "Show collections",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "display_tags",
          "label": "Show tags",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "display_type",
          "label": "Show type",
          "default": false
        }
      ]
    },
    {
      "type": "size_chart",
      "name": "Size chart",
      "limit": 1,
      "settings": [
        {
          "type": "page",
          "id": "size_chart",
          "label": "Size chart",
          "info": "[Learn more](https:\/\/help.outofthesandbox.com\/hc\/en-us\/articles\/115006910707-Using-the-Size-Chart-Sections-themes-)"
        },
        {
          "type": "checkbox",
          "id": "size_chart_title",
          "label": "Show size chart title",
          "default": true
        }
      ]
    },
    {
      "type": "price",
      "name": "Price",
      "limit": 1
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Text block</p>"
        }
      ]
    },
    {
      "type": "form",
      "name": "Form",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "Customize form features for the product in the products portion of the theme settings."
        }
      ]
    },
    {
      "type": "rating",
      "name": "Product rating",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "To display a rating, add a product rating app. [Learn more](https://apps.shopify.com/product-reviews)"
        }
      ]
    }
  ]
}
{% endschema %}
